<!DOCTYPE html>
<html>
<head>
    <title>Script Launcher</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        pre { background: #f0f0f0; padding: 10px; border: 1px solid #ccc; max-height: 300px; overflow-y: auto; }
        .disabled { color: #888; pointer-events: none; }
    </style>
</head>
<body>
    <h1>Script Launcher</h1>
    <h2>Scripts disponibles</h2>
    <ul>
        {% for script in scripts %}
        <li>
            {% if active_script == script %}
                <strong>{{ script }} (En ejecución - PID {{ pid }})</strong> |
                <a href="{{ url_for('stop_script_route') }}">Detener</a>
            {% else %}
                {% if active_script %}
                    <span class="disabled">{{ script }} (Bloqueado)</span>
                {% else %}
                    <a href="{{ url_for('run_script', script=script) }}">Ejecutar {{ script }}</a>
                {% endif %}
            {% endif %}
        </li>
        {% endfor %}
    </ul>

    <hr>
    <h2>Salida por consola</h2>
    {% if active_script %}
        <h3>{{ active_script }}</h3>
        <pre>{{ logs }}</pre>
    {% else %}
        <p>No hay ningún script en ejecución.</p>
    {% endif %}
</body>
</html>
